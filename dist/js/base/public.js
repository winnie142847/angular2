function jumptopage(e){location.href=e}function substitute(e,t,n){return e.replace(n||/\\?\{([^{}]+)\}/g,function(e,n){return void 0===t[n]?"":t[n]})}function drawSpie(e,t,n){return e>50?"linear-gradient(-90deg, "+t+" 50%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0)), linear-gradient("+(e/100*360-270)+"deg, "+t+" 50%, "+n+" 50%, "+n+")":"linear-gradient(90deg, "+n+" 50%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0)), linear-gradient("+(e/100*360+90)+"deg, "+t+" 50%, "+n+" 50%, "+n+")"}function mark_code(e){var t=e.split("_");return t[0]}function ck_null(e){return null==e?"--":e}function getNow(e){var t=new Date;return t.setTime(t.getTime()+1e3*e)}function getApp(){_sendUrl=window.location.href,"Mac OS X"==Helper.isIOS()&&"ios"==Helper.isApp()?window.webkit.messageHandlers.getFundPosts.postMessage(_sendUrl):"Android"==Helper.isAndroid()&&"android"==Helper.isApp()?window.webkit.getFundPosts(_sendUrl):($("body").fadeIn(),$("#wrapper").css("left","0"),$("#pullDown,#pullUp").hide(),$("#thelist").html("<div style='text-align:center;padding:10px;'>当前操作异常，请重新登录</div>"))}function h5toApp(e,t){"ios"==_from?webkit.messageHandlers.callbackHandler.postMessage('{"code":"'+e+'"}'):window.webkit.callbackHandler('{"code":"'+e+'","name":"'+t+'"}')}var uid=Helper.getQuery("uid"),tok=Helper.getQuery("tok"),_from,userid;console.log("public"),userid="null"!=Helper.getQuery("userid")?Helper.getQuery("userid"):"";var token_exp=7200,tag_colors=["#faa226","#13b5b1","#00b7ee","#00b7ee","#f3737c","#8978c9","#94b0bc","#bb6868"],no_data_text="",mess_info={timeout:"请求超时,请稍后再试。",follow:"收藏成功",unfollow:"取消收藏",no_fund:"暂无该基金信息"};$("body").append("<div id='star_pop'><div></div></div>");var fundCore=function(e){var t={iScroll:{nodatatext:"",pulldowntext:"下拉刷新",pulluptext:"加载更多",leavetext:"释放刷新",onloadtext:"加载中"}};t=$.extend(t,e),this.dataLoading=function(){$('<div class="fund_loadingmodal"><div class="fund_newloading"></div></div>').appendTo("body"),$(".fund_loadingmodal").on("click",function(e){e.stopPropagation(),e.preventDefault()})},this.Timeout=!1,this.noData=function(){$('<div class="fund_nodatamodal"><div class="fund_loading"><div class="fund_loadingnoimg">暂无数据,请选择其他条件</div></div></div>').appendTo("body")},this.noCust_data=function(){$('<div class="fund_nodatamodal"><div class="fund_loading"><div class="fund_loadingnoimg">你还没有收藏任何基金</div></div></div>').appendTo("body")},this.dataEnd=function(){$(".fund_loadingmodal").remove(),$(".fund_nodatamodal").remove()},this.setAjax=function(e,t){return $.ajaxSetup({global:!0,headers:{userid:e||null,pkey:t||null},timeout:1e4,beforeSend:function(e){this.dataLoading()}.bind(this),error:function(e,t,n){console.log(t),"timeout"!==t||this.Timeout||(this.Timeout=!0,$("#star_pop div").text(mess_info.timeout),$("#star_pop").fadeIn().delay(3e3).fadeOut(),this.Timeout=!1),$("body").fadeIn()}.bind(this),complete:function(e,t){this.dataEnd()}.bind(this)})},this.Ajax=function(e,t,n,l,i,a,o){var r={url:"/fund/api"+e,type:t,dataType:"json",data:n,cache:!1,dataFilter:function(e,t){return o?e=e.replaceAll(null,'"--"'):e}};return a&&$.extend(r,{url:"/userservice"+e}),i&&$.extend(r,{beforeSend:function(){}}),$.ajax(r).done(function(e){switch(e.code){case"200":l(e);break;case"400":console.log("参数异常");break;case"500":console.log("服务异常");break;case"10200":$("body").fadeIn(),$("#wrapper").css("left","0"),$("#pullDown,#pullUp").hide(),$("#thelist").html("<div style='text-align:center;padding:10px;'>当前操作异常，请重新登录</div>"),console.log("accessKey值不匹配");break;case"10107":console.log("程序异常")}})},this.initIscroll=function(e,n,l,i,a){var o,r,s,d,c;return r=document.getElementById(n),s=r.offsetHeight,d=document.getElementById(l),c=d.offsetHeight,o=new iScroll(e,{useTransition:!0,topOffset:s,onRefresh:function(){r.className.match("loading")?(r.className="",r.querySelector(".pullDownLabel").innerHTML=t.iScroll.pulldowntext):d.className.match("loading")&&(d.className="",d.querySelector(".pullUpLabel").innerHTML=t.iScroll.pulluptext)},onScrollMove:function(){if(this.y>5&&!r.className.match("flip"))r.className="flip",$(".pullUpIcon").show(),r.querySelector(".pullDownLabel").innerHTML=t.iScroll.leavetext,this.minScrollY=0;else if(this.y<5&&r.className.match("flip"))r.className="",r.querySelector(".pullDownLabel").innerHTML=t.iScroll.pulldowntext,this.minScrollY=-s;else if(this.y<this.maxScrollY-5&&!d.className.match("flip")){if(!d.querySelector(".pullUpLabel"))return;d.className="flip",$(".pullUpIcon").show(),d.querySelector(".pullUpLabel").innerHTML=t.iScroll.leavetext,this.maxScrollY=this.maxScrollY}else if(this.y>this.maxScrollY+5&&d.className.match("flip")){if(!d.querySelector(".pullUpLabel"))return;d.className="",d.querySelector(".pullUpLabel").innerHTML=t.iScroll.pulluptext,this.maxScrollY=c}},onScrollEnd:function(){r.className.match("flip")?(r.className="loading",r.querySelector(".pullDownLabel").innerHTML=t.iScroll.onloadtext,i(o)):d.className.match("flip")&&(d.className="loading",d.querySelector(".pullUpLabel").innerHTML=t.iScroll.onloadtext,a(o))}}),$(o).on("empty",function(){o.disable(),$("#pullUp").empty().append('<div class="isnodata">'+t.iScroll.nodatatext+"</div>")}),$(o).on("inten",function(){$("#pullUp").empty().append('<div class="isnodata">'+t.iScroll.nodatatext+"</div>"),$("#pullUp").parent().append('<div style="height:4rem"></div>'),o.enable()}),$(o).on("normal",function(){$("#pullUp").empty().append('<div class="iscontent"><span class="pullUpIcon"></span><span class="pullUpLabel">'+t.iScroll.pulluptext+"</span></div>"),o.enable()}),setTimeout(function(){document.getElementById(e).style.left="0"},50),o},this.FootTool=function(){var e=$("#footer i");$('<script src="http://s4.cnzz.com/z_stat.php?id=1259536245&web_id=1259536245" language="JavaScript"></script>').appendTo("head"),e.on("click",function(){$(this).hasClass("fin")||jumptopage($(this).data("url"))})},this.init=function(e){e&&this.saveQueryString(),this.getQueryString()&&(this.setAjax(this.getQueryString().userid,this.getQueryString().pkey),_from=this.getQueryString().from),this.FootTool()},e?this.init(e.getQuery):this.init()};fundCore.prototype={changIsState:function(e,t){0===t.message.result.length||"--"===t.message.result||"--"===t.message?$(e).trigger("empty"):t.message.result.length<20?$(e).trigger("inten"):20===t.message.result.length&&20===t.message.total?$(e).trigger("inten"):$(e).trigger("normal")},saveData:function(e,t){return"JSON"in window&&(t=JSON.stringify(t)),Helper.isIOS()?window.localStorage.setItem(e,t):Helper.isAndroid()?Helper.setCookie(e,t):window.localStorage.setItem(e,t)},getData:function(e){return Helper.isIOS()?JSON.parse(window.localStorage.getItem(e)):Helper.isAndroid()?JSON.parse(Helper.getCookie(e)):JSON.parse(window.localStorage.getItem(e))},delData:function(e){return Helper.isIOS()?window.localStorage.removeItem(e):Helper.isAndroid()?Helper.delCookie(e):window.localStorage.removeItem(e)},saveQueryString:function(){var e={};Helper.getQuery("uid")&&(Helper.getQuery("uid")&&(e.pkey=Helper.getQuery("uid")),Helper.getQuery("tok")&&(e.tok=Helper.getQuery("tok")),Helper.getQuery("userid")&&(e.userid=Helper.getQuery("userid")),Helper.getQuery("from")&&(e.from=Helper.getQuery("from")),this.saveData("queryString",e))},getQueryString:function(){return this.getData("queryString")},fundurl:{industry:"/change/industry/ranking",change:"/change/ranking",changelist:"/change/industry/list",fundfilter:"/filter",funddetail:"/detail",labelindustry:"/label/industry",invtyp:"/label/csftyp",labeltheme:"/label/theme",labelstyle:"/label/style",netvaluelist:"/netvalue/list",stocklist:"/stock/list",orgdetail:"/org/detail",rankings:"/rankings",managerdetail:"/manager/detail",orgfunds:"/org/funds",banner:"/index/banner",recoms:"/index/recoms",stockdt:"/recoms/stock/detail",news:"/recoms/news/detail",index:"/recoms/indicator/detail",weekindustry:"/change/weekly/industry/list",weekconsept:"/change/weekly/concept/list",realtime:"/index/realtime/quotes",estimate:"/net/estimate/rankings",manager:"/recoms/manager",companySearch:"/search/org",companyProfile:"/org/profile",companyStock:"/org/stock",companyDetail:"/org/detail",companyCate:"/org/funds/cate",companyFunds:"/org/funds",managerList:"/manager/list",managerDetail:"/manager/detail",managerRankings:"/rankings",fundFetch:"/announce/fetch",fundtrend:"/change/trend",funddaily:"/change/daily",fundindustry:"/asset/industry",fundasset:"/asset",fundmanager:"/fund/manager",estimatedaily:"/net/estimate/daily",fundsummary:"/summary",fundar7d:"/change/trend/ar7d",dividend:"/history/dividend",weeklylist:"/index/weekly/list",realtime:"/index/realtime/quotes",diagnose:"/select/diagnose",stocksAndBonds:"/select/diagnose/stocksAndBonds",weekly:"/index/weekly",newsfetch:"/news/fetch",spstyle:"/label/spstyle",laberisk:"/label/risk"},infourl:{newslist:"/news/fetch"},userurl:{usfundlist:"/fund/list",collect:"/fund/collect",check:"/fund/collect/check"}},$(document).on("click",function(){$(".sort_span").removeClass("sort_on"),$(".sort_div").hide().children("i").show()}),String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"gm"),t)};var _sendUrl;
//# sourceMappingURL=public.js.map
