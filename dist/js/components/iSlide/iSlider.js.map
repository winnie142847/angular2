{"version":3,"sources":["components/iSlide/iSlider.js"],"names":["global","noop","inArray","o","arr","indexOf","isArray","Object","prototype","toString","call","isObject","hasClass","el","cls","className","match","RegExp","addClass","removeClass","replace","isUrl","url","test","_A","a","Array","slice","apply","arguments","IU","word","t","toUpperCase","iSlider","args","length","Error","opts","pop","data","dom","this","_opts","_setting","fire","_renderWrapper","_initPlugins","_bindHandler","_autoPlay","VERSION","EVENTS","EASING","FIX_PAGE_TAGS","NODE_TYPE","unknown","empty","pic","html","node","element","TRANSITION_END_EVENT","BROWSER_PREFIX","e","document","createElement","some","undefined","style","DEVICE_EVENTS","hasTouch","navigator","userAgent","DocumentTouch","startEvt","moveEvt","endEvt","cancelEvt","resizeEvt","extend","main","property","hasOwnProperty","plugins","regPlugin","name","plugin","styleProp","prop","isDP","setStyle","value","getStyle","_animateFuncs","normal","axis","scale","i","offset","effect","iSliderPrototype","self","_plugins","_holding","_locking","_intermediateScene","_transitionEndHandler","_LSN","autoPlay","resize","transitionEnd","currentEl","_EventHandle","onMoving","onSliding","direction","wrap","isVertical","isOverspread","duration","initIndex","fixPage","fp","concat","fillSeam","slideIndex","reverseAxis","width","offsetWidth","height","offsetHeight","ratio","X","Y","isTouchable","isLooping","dampingForce","Math","max","min","parseFloat","delay","isAutoplay","animateType","_animateFunc","_animateReverse","_","type","reverse","push","log","isDebug","console","_damping","distance","atan","abs","animateTime","animateEasing","deviceEvents","fingerRecognitionRange","parseInt","events","forEach","eventName","fn","toLowerCase","on","pluginConfig","config","_itemType","item","isNaN","content","_NT","Boolean","nodeName","nodeType","_renderItem","dataIndex","len","insertImg","simg","cssText","innerHTML","background","load","currentImg","Image","src","onload","entity","appendChild","_renderIntermediateScene","_changedStyles","slideStyles","els","index","join","originScale","bind","outer","li","overflow","setTimeout","_preloadImg","loadImg","preloadImg","_watchTransitionEnd","squeezeTime","eventType","cb","_unWatchTransitionEnd","play","addEventListener","handler","clearTimeout","removeEventListener","device","cursor","ondragstart","evt","handleEvent","button","startHandler","moveHandler","endHandler","resizeHandler","target","tagName","_isItself","preventDefault","pause","startTime","Date","getTime","startX","targetTouches","pageX","startY","pageY","offsetRatio","visibility","seamScale","dispatchLink","href","getAttribute","open","location","search","parentNode","boundary","endTime","FRR","absOffset","absReverseOffset","slideTo","_W","_H","_L","clearInterval","setInterval","reset","unhold","animateFunc","idx","n","headEl","tailEl","shift","unshift","slideNext","slidePrev","delegate","evtType","selector","callback","delegatedEventCallbackHandle","event","eleArr","querySelectorAll","key","unbind","unDelegate","destroy","handList","substr","func","force","has","off","eventNames","split","funcs","loadData","pushData","sceneData","unshiftData","hold","unlock","lock","regex","transformStyle","res","sc","rule","path","parent","subjectTo","how","l","d","require","module","exports","define","window"],"mappings":"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","file":"components/iSlide/iSlider.js","sourcesContent":["/**\r\n * A simple, efficent mobile slider solution\r\n * @file iSlider.js\r\n * @author BE-FE Team\r\n *    qbaty qbaty.qi@gmail.com\r\n *    xieyu33333 xieyu33333@gmail.com\r\n *    shinate shine.wangrs@gmail.com\r\n *\r\n * @LICENSE https://github.com/BE-FE/iSlider/blob/master/LICENSE\r\n */\r\n\r\n(function (global) {\r\n    'use strict';\r\n\r\n    /**\r\n     * noop function\r\n     */\r\n    function noop() {\r\n    }\r\n\r\n    /**\r\n     * Check in array\r\n     * @param {*} o\r\n     * @param {Array} arr\r\n     * @returns {Boolean}\r\n     */\r\n    function inArray(o, arr) {\r\n        return arr.indexOf(o) > -1;\r\n    }\r\n\r\n    /**\r\n     * Check is array\r\n     * @param {*} o\r\n     * @returns {Boolean}\r\n     */\r\n    function isArray(o) {\r\n        return Object.prototype.toString.call(o) === '[object Array]';\r\n    }\r\n\r\n    /**\r\n     * Check is object\r\n     * @param {*} o\r\n     * @returns {Boolean}\r\n     */\r\n    function isObject(o) {\r\n        return Object.prototype.toString.call(o) === '[object Object]';\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLElement} el\r\n     * @param {String} cls\r\n     * @returns {Array|{index: number, input: string}}\r\n     */\r\n    function hasClass(el, cls) {\r\n        return el.className.match(new RegExp('(\\\\s|^)(' + cls + ')(\\\\s|$)'));\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLElement} el\r\n     * @param {String} cls\r\n     */\r\n    function addClass(el, cls) {\r\n        if (!hasClass(el, cls)) {\r\n            el.className += ' ' + cls;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLElement} el\r\n     * @param {String} cls\r\n     */\r\n    function removeClass(el, cls) {\r\n        if (hasClass(el, cls)) {\r\n            el.className = el.className.replace(RegExp('(\\\\s|^)(' + cls + ')(\\\\s|$)'), '$3');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check is url\r\n     * @param {String} url\r\n     * @returns {Boolean}\r\n     */\r\n    function isUrl(url) {\r\n        if (/<\\/?[^>]*>/.test(url))\r\n            return false;\r\n        return /^(?:(https|http|ftp|rtsp|mms):)?(\\/\\/)?(\\w+:{0,1}\\w*@)?([^\\?#:\\/]+\\.[a-z]+|\\d+\\.\\d+\\.\\d+\\.\\d+)?(:[0-9]+)?((?:\\.?\\/)?([^\\?#]*)?(\\?[^#]+)?(#.+)?)?$/.test(url);\r\n    }\r\n\r\n    /**\r\n     * Parse arguments to array\r\n     *\r\n     * @param {Arguments} a\r\n     * @param {Number|null} start\r\n     * @param {Number|null} end\r\n     * @returns {Array}\r\n     */\r\n    function _A(a) {\r\n        return Array.prototype.slice.apply(a, Array.prototype.slice.call(arguments, 1));\r\n    }\r\n\r\n    function IU(word) {\r\n        return word.replace(/^[a-z]/, function (t) {\r\n            return t.toUpperCase();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @constructor\r\n     *\r\n     * iSlicer([[{HTMLElement} container,] {Array} datalist,] {Object} options)\r\n     *\r\n     * @param {HTMLElement} container\r\n     * @param {Array} datalist\r\n     * @param {Object} options\r\n     *\r\n     * @description\r\n     *  options.dom > container\r\n     *  options.data > datalist\r\n     */\r\n    var iSlider = function () {\r\n\r\n        var args = _A(arguments, 0, 3);\r\n        if (!args.length) {\r\n            throw new Error('Parameters required!');\r\n        }\r\n\r\n        var opts = isObject(args.slice(-1)[0]) ? args.pop() : {};\r\n\r\n        switch (args.length) {\r\n            case 2:\r\n                opts.data = opts.data || args[1];\r\n            case 1:\r\n                opts.dom = opts.dom || args[0];\r\n        }\r\n\r\n        if (!opts.dom) {\r\n            throw new Error('Container can not be empty!');\r\n        }\r\n\r\n        if (!opts.data || !opts.data.length) {\r\n            throw new Error('Data must be an array and must have more than one element!');\r\n        }\r\n\r\n        /**\r\n         * Options\r\n         * @private\r\n         */\r\n        this._opts = opts;\r\n\r\n        opts = null, args = null;\r\n\r\n        this._setting();\r\n\r\n        this.fire('initialize');\r\n\r\n        this._renderWrapper();\r\n        this._initPlugins();\r\n        this._bindHandler();\r\n\r\n        this.fire('initialized');\r\n\r\n        // Autoplay mode\r\n        this._autoPlay();\r\n    };\r\n\r\n    /**\r\n     * version\r\n     * @type {string}\r\n     */\r\n    iSlider.VERSION = '2.1.7';\r\n\r\n    /**\r\n     * Event white list\r\n     * @type {Array}\r\n     * @protected\r\n     */\r\n    iSlider.EVENTS = [\r\n        'initialize',\r\n        'initialized',\r\n        'pluginInitialize',\r\n        'pluginInitialized',\r\n        'renderComplete',\r\n        'slide',\r\n        'slideStart',\r\n        'slideEnd',\r\n        'slideChange',\r\n        'slideChanged',\r\n        'slideRestore',\r\n        'slideRestored',\r\n        'loadData',\r\n        'reset',\r\n        'destroy'\r\n    ];\r\n\r\n    /**\r\n     * Easing white list\r\n     * @type [Array, RegExp[]]\r\n     * @protected\r\n     */\r\n    iSlider.EASING = [\r\n        ['linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out'],\r\n        /cubic-bezier\\(([^\\d]*(\\d+.?\\d*)[^\\,]*\\,?){4}\\)/\r\n    ];\r\n\r\n    /**\r\n     * TAGS whitelist on fixpage mode\r\n     * @type {Array}\r\n     * @protected\r\n     */\r\n    iSlider.FIX_PAGE_TAGS = ['SELECT', 'INPUT', 'TEXTAREA', 'BUTTON', 'LABEL'];\r\n\r\n    /**\r\n     * Scene node types\r\n     * @type {Object}\r\n     * @protected\r\n     * TODO Prepare for the migration Symbol ES6.\r\n     */\r\n    iSlider.NODE_TYPE = {\r\n        unknown: 'unknown',\r\n        empty: 'empty',\r\n        pic: 'pic',\r\n        dom: 'dom',\r\n        html: 'html',\r\n        node: 'node',\r\n        element: 'element'\r\n    };\r\n\r\n    /**\r\n     * @returns {String}\r\n     * @private\r\n     */\r\n    iSlider.TRANSITION_END_EVENT = null;\r\n\r\n    iSlider.BROWSER_PREFIX = null;\r\n\r\n    (function () {\r\n        var e = document.createElement('fakeElement');\r\n        [\r\n            ['WebkitTransition', 'webkitTransitionEnd', 'webkit'],\r\n            ['transition', 'transitionend', null],\r\n            ['MozTransition', 'transitionend', 'moz'],\r\n            ['OTransition', 'oTransitionEnd', 'o']\r\n        ].some(function (t) {\r\n                if (e.style[t[0]] !== undefined) {\r\n                    iSlider.TRANSITION_END_EVENT = t[1];\r\n                    iSlider.BROWSER_PREFIX = t[2];\r\n                    return true;\r\n                }\r\n            });\r\n    })();\r\n\r\n    /**\r\n     * Event match depending on the browser supported\r\n     * @type {{hasTouch, startEvt, moveEvt, endEvt, cancelEvt, resizeEvt}}\r\n     */\r\n    iSlider.DEVICE_EVENTS = (function () {\r\n        // IOS desktop has touch events, make them busting\r\n        var hasTouch = !!(('ontouchstart' in global && !/Mac OS X /.test(global.navigator.userAgent)) || global.DocumentTouch && document instanceof global.DocumentTouch);\r\n        return {\r\n            hasTouch: hasTouch,\r\n            startEvt: hasTouch ? 'touchstart' : 'mousedown',\r\n            moveEvt: hasTouch ? 'touchmove' : 'mousemove',\r\n            endEvt: hasTouch ? 'touchend' : 'mouseup',\r\n            cancelEvt: hasTouch ? 'touchcancel' : 'mouseout',\r\n            resizeEvt: 'onorientationchange' in global ? 'orientationchange' : 'resize'\r\n        };\r\n    })();\r\n\r\n    /**\r\n     * Extend\r\n     * @public\r\n     */\r\n    iSlider.extend = function () {\r\n        var main, extend, args = arguments;\r\n\r\n        switch (args.length) {\r\n            case 0:\r\n                return;\r\n            case 1:\r\n                main = iSlider.prototype;\r\n                extend = args[0];\r\n                break;\r\n            case 2:\r\n                main = args[0];\r\n                extend = args[1];\r\n                break;\r\n        }\r\n\r\n        for (var property in extend) {\r\n            if (extend.hasOwnProperty(property)) {\r\n                main[property] = extend[property];\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Plugins\r\n     * @type {{}}\r\n     * @protected\r\n     */\r\n    iSlider.plugins = {};\r\n\r\n    /**\r\n     * @param name\r\n     * @param plugin\r\n     * @public\r\n     */\r\n    iSlider.regPlugin = function (name, plugin) {\r\n        iSlider.plugins[name] = iSlider.plugins[name] || plugin;\r\n    };\r\n\r\n    /**\r\n     * @param {String} prop\r\n     * @param {String} value\r\n     * @returns {String}\r\n     * @public\r\n     */\r\n    iSlider.styleProp = function (prop, isDP) {\r\n        if (iSlider.BROWSER_PREFIX) {\r\n            if (!!isDP) {\r\n                return iSlider.BROWSER_PREFIX + IU(prop);\r\n            } else {\r\n                return '-' + iSlider.BROWSER_PREFIX + '-' + prop;\r\n            }\r\n        } else {\r\n            return prop;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @param {String} prop\r\n     * @param {HTMLElement} dom\r\n     * @param {String} value\r\n     * @public\r\n     */\r\n    iSlider.setStyle = function (dom, prop, value) {\r\n        dom.style[iSlider.styleProp(prop, 1)] = value;\r\n    };\r\n\r\n    /**\r\n     * @param {String} prop\r\n     * @param {HTMLElement} dom\r\n     * @param {String} value\r\n     * @public\r\n     */\r\n    iSlider.getStyle = function (dom, prop) {\r\n        return dom.style[iSlider.styleProp(prop, 1)];\r\n    };\r\n\r\n    /**\r\n     * @type {Object}\r\n     *\r\n     * @param {HTMLElement} dom The wrapper <li> element\r\n     * @param {String} axis Animate direction\r\n     * @param {Number} scale Outer wrapper\r\n     * @param {Number} i Wrapper's index\r\n     * @param {Number} offset Move distance\r\n     * @protected\r\n     */\r\n    iSlider._animateFuncs = {\r\n        normal: (function () {\r\n            function normal(dom, axis, scale, i, offset) {\r\n                iSlider.setStyle(dom, 'transform', 'translateZ(0) translate' + axis + '(' + (offset + scale * (i - 1)) + 'px)');\r\n            }\r\n\r\n            normal.effect = iSlider.styleProp('transform');\r\n            return normal;\r\n        })()\r\n    };\r\n\r\n    /**\r\n     * This is a alias, conducive to compression\r\n     * @type {Object}\r\n     */\r\n    var iSliderPrototype = iSlider.prototype;\r\n\r\n    /**\r\n     * & iSlider.extend\r\n     * @public\r\n     */\r\n    iSliderPrototype.extend = iSlider.extend;\r\n\r\n    /**\r\n     * setting parameters for slider\r\n     * @private\r\n     */\r\n    iSliderPrototype._setting = function () {\r\n\r\n        var self = this;\r\n\r\n        // --------------------------------\r\n        // - Status\r\n        // --------------------------------\r\n\r\n        /**\r\n         * The plugins\r\n         * @type {Array|{}|*}\r\n         * @private\r\n         */\r\n        self._plugins = iSlider.plugins;\r\n\r\n        /**\r\n         * Extend animations\r\n         * @type {{default: Function}|*}\r\n         * @private\r\n         */\r\n        self._animateFuncs = iSlider._animateFuncs;\r\n\r\n        /**\r\n         * @type {Boolean}\r\n         * @private\r\n         */\r\n        self._holding = false;\r\n\r\n        /**\r\n         * @type {Boolean}\r\n         * @private\r\n         */\r\n        self._locking = false;\r\n\r\n        /**\r\n         * @type {Array}\r\n         * @private\r\n         */\r\n        self._intermediateScene = null;\r\n\r\n        /**\r\n         * @type {null}\r\n         * @private\r\n         */\r\n        self._transitionEndHandler = null;\r\n\r\n        /**\r\n         * listener\r\n         * @type {{autoPlay: null, resize: null, transitionEnd: null}}\r\n         * @private\r\n         */\r\n        self._LSN = {\r\n            autoPlay: null,\r\n            resize: null,\r\n            transitionEnd: null\r\n        };\r\n\r\n        /**\r\n         * current scene element: this.els[1]\r\n         * @type {null}\r\n         * @public\r\n         */\r\n        self.currentEl = null;\r\n\r\n        /**\r\n         * Event handle\r\n         * @type {Object}\r\n         * @private\r\n         */\r\n        self._EventHandle = {};\r\n\r\n        /**\r\n         * is on Moving\r\n         * @type {Boolean}\r\n         * @private\r\n         */\r\n        self.onMoving = false;\r\n\r\n        /**\r\n         * is on Sliding\r\n         * @type {Boolean}\r\n         * @private\r\n         */\r\n        self.onSliding = false;\r\n\r\n        /**\r\n         * animate direction\r\n         * @type {Number|null}\r\n         * @private\r\n         */\r\n        self.direction = null;\r\n\r\n        // --------------------------------\r\n        // - Set options\r\n        // --------------------------------\r\n\r\n        var opts = this._opts;\r\n\r\n        /**\r\n         * dom element wrapping content\r\n         * @type {HTMLElement}\r\n         * @public\r\n         */\r\n        self.wrap = opts.dom;\r\n\r\n        /**\r\n         * Data list\r\n         * @type {Array}\r\n         * @public\r\n         */\r\n        self.data = opts.data;\r\n\r\n        /**\r\n         * default slide direction\r\n         * @type {Boolean}\r\n         * @public\r\n         */\r\n        self.isVertical = !!opts.isVertical;\r\n\r\n        /**\r\n         * Overspread mode\r\n         * @type {Boolean}\r\n         * @public\r\n         */\r\n        self.isOverspread = !!opts.isOverspread;\r\n\r\n        /**\r\n         * Play time gap\r\n         * @type {Number}\r\n         * @public\r\n         */\r\n        self.duration = opts.duration || 2000;\r\n\r\n        /**\r\n         * start from initIndex or 0\r\n         * @type {Number}\r\n         * @public\r\n         */\r\n        self.initIndex = opts.initIndex > 0 && opts.initIndex <= opts.data.length - 1 ? opts.initIndex : 0;\r\n\r\n        /**\r\n         * touchstart prevent default to fixPage\r\n         * @type {Boolean}\r\n         * @public\r\n         */\r\n        self.fixPage = (function () {\r\n            var fp = opts.fixPage;\r\n            if (fp === false || fp === 0) {\r\n                return false;\r\n            }\r\n            if (isArray(fp) && fp.length > 0 || typeof fp === 'string' && fp !== '') {\r\n                return [].concat(fp).toString();\r\n            }\r\n            return true;\r\n        })();\r\n\r\n        /**\r\n         * Fill seam when render\r\n         * Default is false\r\n         * @type {Boolean}\r\n         * @public\r\n         */\r\n        self.fillSeam = !!opts.fillSeam;\r\n\r\n        /**\r\n         * slideIndex\r\n         * @type {Number}\r\n         * @private\r\n         */\r\n        self.slideIndex = self.slideIndex || self.initIndex || 0;\r\n\r\n        /**\r\n         * Axis\r\n         * @type {String}\r\n         * @public\r\n         */\r\n        self.axis = self.isVertical ? 'Y' : 'X';\r\n\r\n        /**\r\n         * reverseAxis\r\n         * @type {String}\r\n         * @private\r\n         */\r\n        self.reverseAxis = self.axis === 'Y' ? 'X' : 'Y';\r\n\r\n        /**\r\n         * Wrapper width\r\n         * @type {Number}\r\n         * @private\r\n         */\r\n        self.width = typeof opts.width === 'number' ? opts.width : self.wrap.offsetWidth;\r\n\r\n        /**\r\n         * Wrapper height\r\n         * @type {Number}\r\n         * @private\r\n         */\r\n        self.height = typeof opts.height === 'number' ? opts.height : self.wrap.offsetHeight;\r\n\r\n        /**\r\n         * Ratio height:width\r\n         * @type {Number}\r\n         * @private\r\n         */\r\n        self.ratio = self.height / self.width;\r\n\r\n        /**\r\n         * Scale, size rule\r\n         * @type {Number}\r\n         * @private\r\n         */\r\n        self.scale = self.isVertical ? self.height : self.width;\r\n\r\n        /**\r\n         * On slide offset position\r\n         * @type {{X: number, Y: number}}\r\n         * @private\r\n         */\r\n        self.offset = self.offset || {X: 0, Y: 0};\r\n\r\n        /**\r\n         * Enable/disable touch events\r\n         * @type {Boolean}\r\n         * @private\r\n         */\r\n        self.isTouchable = opts.isTouchable == null ? true : !!opts.isTouchable;\r\n\r\n        /**\r\n         * looping logic adjust\r\n         * @type {Boolean}\r\n         * @private\r\n         */\r\n        self.isLooping = opts.isLooping && self.data.length > 1 ? true : false;\r\n\r\n        /**\r\n         * Damping force\r\n         * Effect in non-looping mode\r\n         * Range 0 ~ 1\r\n         * @type {Number}\r\n         * @private\r\n         */\r\n        self.dampingForce = Math.max(0, Math.min(1, parseFloat(opts.dampingForce) || 0));\r\n\r\n        /**\r\n         * AutoPlay waitting milsecond to start\r\n         * @type {Number}\r\n         * @private\r\n         */\r\n        self.delay = opts.delay || 0;\r\n\r\n        /**\r\n         * autoplay logic adjust\r\n         * @type {Boolean}\r\n         * @private\r\n         */\r\n        self.isAutoplay = opts.isAutoplay && self.data.length > 1 ? true : false;\r\n\r\n        /**\r\n         * Animate type\r\n         * @type {String}\r\n         * @private\r\n         */\r\n        self.animateType = opts.animateType in self._animateFuncs ? opts.animateType : 'normal';\r\n\r\n        /**\r\n         * @protected\r\n         */\r\n        self._animateFunc = self._animateFuncs[self.animateType];\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        self._animateReverse = (function () {\r\n            var _ = [];\r\n            for (var type in self._animateFuncs) {\r\n                if (self._animateFuncs.hasOwnProperty(type) && self._animateFuncs[type].reverse) {\r\n                    _.push(type);\r\n                }\r\n            }\r\n            return _;\r\n        })();\r\n\r\n        // little trick set, when you chooce tear & vertical same time\r\n        // iSlider overspread mode will be set true autometicly\r\n        if (self.isVertical && self.animateType === 'card') {\r\n            self.isOverspread = true;\r\n        }\r\n\r\n        /**\r\n         * Debug mode\r\n         * @type {Function}\r\n         * @private\r\n         */\r\n        self.log = opts.isDebug ? function () {\r\n            global.console.log.apply(global.console, arguments);\r\n        } : noop;\r\n\r\n        /**\r\n         * Enable damping when slider meet the edge\r\n         * @param distance\r\n         * @returns {*}\r\n         * @private\r\n         */\r\n        self._damping = (function () {\r\n            return function (distance) {\r\n                return Math.atan(Math.abs(distance) / self.scale) * 0.62 * (1 - self.dampingForce) * self.scale * (distance > 0 ? 1 : -1);\r\n            }\r\n        })();\r\n\r\n        /**\r\n         * animate process time (ms), default: 300ms\r\n         * @type {Number}\r\n         * @public\r\n         */\r\n        self.animateTime = opts.animateTime != null && opts.animateTime > -1 ? opts.animateTime : 300;\r\n\r\n        /**\r\n         * animate effects, default: ease\r\n         * @type {String}\r\n         * @public\r\n         */\r\n        self.animateEasing =\r\n            inArray(opts.animateEasing, iSlider.EASING[0])\r\n            || iSlider.EASING[1].test(opts.animateEasing)\r\n                ? opts.animateEasing\r\n                : 'ease';\r\n\r\n        /**\r\n         * Fix touch/mouse events\r\n         * @type {{hasTouch, startEvt, moveEvt, endEvt}}\r\n         * @private\r\n         */\r\n        self.deviceEvents = iSlider.DEVICE_EVENTS;\r\n\r\n        /**\r\n         * Finger recognition range, prevent inadvertently touch\r\n         * @type {Number}\r\n         * @private\r\n         */\r\n        self.fingerRecognitionRange = opts.fingerRecognitionRange > -1 ? parseInt(opts.fingerRecognitionRange) : 10;\r\n\r\n        /**\r\n         * Init events\r\n         * @type {{}}\r\n         * @private\r\n         */\r\n        self.events = {};\r\n\r\n        // --------------------------------\r\n        // - Register events\r\n        // --------------------------------\r\n\r\n        iSlider.EVENTS.forEach(function (eventName) {\r\n            var fn = opts['on' + eventName.toLowerCase()];\r\n            typeof fn === 'function' && self.on(eventName, fn, 1);\r\n        });\r\n\r\n        // --------------------------------\r\n        // - Plugins\r\n        // --------------------------------\r\n\r\n        /**\r\n         * @type {Object}\r\n         * @private\r\n         */\r\n        self.pluginConfig = (function () {\r\n            var config = {};\r\n            if (isArray(opts.plugins)) {\r\n                opts.plugins.forEach(function pluginConfigEach(plugin) {\r\n                    if (isArray(plugin)) {\r\n                        config[plugin[0]] = plugin.slice(1);\r\n                    } else if (typeof plugin === 'string') {\r\n                        config[plugin] = [];\r\n                    }\r\n                });\r\n            }\r\n            return config;\r\n        })();\r\n    };\r\n\r\n    /**\r\n     * Init plugins\r\n     * @private\r\n     */\r\n    iSliderPrototype._initPlugins = function () {\r\n        var config = this.pluginConfig;\r\n        var plugins = this._plugins;\r\n        for (var i in config) {\r\n            if (config.hasOwnProperty(i) && plugins.hasOwnProperty(i)) {\r\n                this.log('[INIT PLUGIN]:', i, plugins[i]);\r\n                plugins[i]\r\n                && typeof plugins[i] === 'function'\r\n                && typeof plugins[i].apply\r\n                && plugins[i].apply(this, config[i]);\r\n            }\r\n        }\r\n        this.fire('pluginInitialized');\r\n    };\r\n\r\n    /**\r\n     * Get item type\r\n     * @param {Number} index\r\n     * @returns {String}\r\n     * @private\r\n     */\r\n    iSliderPrototype._itemType = function (item) {\r\n        if (!isNaN(item)) {\r\n            item = this.data[item];\r\n        }\r\n        if (item.hasOwnProperty('type')) {\r\n            return item.type;\r\n        }\r\n        var content = item.content;\r\n        var _NT = iSlider.NODE_TYPE;\r\n        var type;\r\n        if (content == null) {\r\n            type = _NT.empty;\r\n        } else {\r\n            if (Boolean(content.nodeName) && Boolean(content.nodeType)) {\r\n                type = _NT.node;\r\n            } else if (typeof content === 'string') {\r\n                if (isUrl(content)) {\r\n                    type = _NT.pic;\r\n                } else {\r\n                    type = _NT.html;\r\n                }\r\n            } else {\r\n                type = _NT.unknown;\r\n            }\r\n        }\r\n\r\n        item.type = type;\r\n\r\n        return type;\r\n    };\r\n\r\n    /**\r\n     * render single item html by idx\r\n     * @param {HTMLElement} el ..\r\n     * @param {Number} dataIndex  ..\r\n     * @private\r\n     */\r\n    iSliderPrototype._renderItem = function (el, dataIndex) {\r\n\r\n        var item,\r\n            self = this,\r\n            len = this.data.length;\r\n\r\n        var insertImg = function renderItemInsertImg() {\r\n            var simg = ' src=\"' + item.content + '\"';\r\n            // auto scale to full screen\r\n            if (item.height / item.width > self.ratio) {\r\n                simg += ' height=\"100%\"';\r\n            } else {\r\n                simg += ' width=\"100%\"';\r\n            }\r\n            if (self.isOverspread) {\r\n                el.style.cssText += 'background-image:url(' + item.content + ');background-repeat:no-repeat;background-position:50% 50%;background-size:cover';\r\n                simg += ' style=\"display:block;opacity:0;height:100%;width:100%;\"';\r\n            }\r\n            // for right button, save picture\r\n            el.innerHTML = '<img' + simg + ' />';\r\n        };\r\n\r\n        // clean scene\r\n        el.innerHTML = '';\r\n        el.style.background = '';\r\n\r\n        // get the right item of data\r\n        if (!this.isLooping && this.data[dataIndex] == null) {\r\n            // Stop slide when item is empty\r\n            return;\r\n        }\r\n        else {\r\n            dataIndex = (len /* * Math.ceil(Math.abs(dataIndex / len))*/ + dataIndex) % len;\r\n            item = this.data[dataIndex];\r\n        }\r\n\r\n        var type = this._itemType(item);\r\n        var _NT = iSlider.NODE_TYPE;\r\n\r\n        this.log('[RENDER]:', type, dataIndex, item);\r\n\r\n        el.className = 'islider-' + type;\r\n\r\n        switch (type) {\r\n            case _NT.pic:\r\n                if (item.load === 2) {\r\n                    insertImg();\r\n                }\r\n                else {\r\n                    var currentImg = new Image();\r\n                    currentImg.src = item.content;\r\n                    currentImg.onload = function () {\r\n                        item.height = currentImg.height;\r\n                        item.width = currentImg.width;\r\n                        insertImg();\r\n                        item.load = 2;\r\n                    };\r\n                }\r\n                break;\r\n            case _NT.dom:\r\n            case _NT.html:\r\n                el.innerHTML = item.content;\r\n                break;\r\n            case _NT.node:\r\n            case _NT.element:\r\n                // fragment, create container\r\n                if (item.content.nodeType === 11) {\r\n                    var entity = document.createElement('div');\r\n                    entity.appendChild(item.content);\r\n                    item.content = entity;\r\n                }\r\n                el.appendChild(item.content);\r\n                break;\r\n            default:\r\n                // do nothing\r\n                break;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Postponing the intermediate scene rendering\r\n     * until the target scene is completely rendered (render in event slideChanged)\r\n     * to avoid a jumpy feel when switching between scenes\r\n     * given that the distance of sliding is more than 1.\r\n     * e.g. ```this.slideTo(>+-1)```\r\n     *\r\n     * @private\r\n     */\r\n    iSliderPrototype._renderIntermediateScene = function () {\r\n        if (this._intermediateScene != null) {\r\n            this._renderItem.apply(this, this._intermediateScene);\r\n            this._intermediateScene = null;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Apply styles on changed\r\n     * @private\r\n     */\r\n    iSliderPrototype._changedStyles = function () {\r\n        var slideStyles = ['islider-prev', 'islider-active', 'islider-next'];\r\n        this.els.forEach(function changeStypeEach(el, index) {\r\n            removeClass(el, slideStyles.join('|'));\r\n            addClass(el, slideStyles[index]);\r\n            this.fillSeam && this.originScale(el);\r\n        }.bind(this));\r\n    };\r\n\r\n    /**\r\n     * render list html\r\n     * @private\r\n     */\r\n    iSliderPrototype._renderWrapper = function () {\r\n        //this.wrap.style.overflow = 'hidden';\r\n        // initail outer element\r\n        var outer;\r\n        if (this.outer) {\r\n            outer = this.outer;\r\n            outer.innerHTML = '';\r\n        } else {\r\n            outer = document.createElement('ul');\r\n        }\r\n        outer.className = 'islider-outer';\r\n        //outer.style.overflow = 'hidden';\r\n        // no need...\r\n        // outer.style.cssText += 'width:' + this.width + 'px;height:' + this.height + 'px';\r\n\r\n        // storage li elements, only store 3 elements to reduce memory usage\r\n        /**\r\n         * Slider elements x3\r\n         * @type {Array}\r\n         * @public\r\n         */\r\n        this.els = [];\r\n\r\n        for (var i = 0; i < 3; i++) {\r\n            var li = document.createElement('li');\r\n            this.els.push(li);\r\n\r\n            // prepare style animation\r\n            this._animateFunc(li, this.axis, this.scale, i, 0);\r\n\r\n            // auto overflow in none fixPage mode\r\n            if (!this.fixPage) {\r\n                li.style.overflow = 'auto';\r\n            }\r\n\r\n            this.isVertical && (this.animateType === 'rotate' || this.animateType === 'flip')\r\n                ? this._renderItem(li, 1 - i + this.slideIndex)\r\n                : this._renderItem(li, i - 1 + this.slideIndex);\r\n\r\n            outer.appendChild(li);\r\n        }\r\n\r\n        this._changedStyles();\r\n\r\n        if (this.fillSeam) {\r\n            this.els.forEach(function (el, i) {\r\n                addClass(el, 'islider-sliding' + (i === 1 ? '-focus' : ''));\r\n            });\r\n        }\r\n\r\n        // Preload picture [ may be pic :) ]\r\n        global.setTimeout(function () {\r\n            this._preloadImg(this.slideIndex);\r\n        }.bind(this), 200);\r\n\r\n        // append ul to div#canvas\r\n        if (!this.outer) {\r\n            /**\r\n             * @type {HTMLElement}\r\n             * @public\r\n             */\r\n            this.outer = outer;\r\n            this.wrap.appendChild(outer);\r\n        }\r\n\r\n        this.currentEl = this.els[1];\r\n\r\n        this.fire('renderComplete', this.slideIndex, this.currentEl, this);\r\n    };\r\n\r\n    /**\r\n     * Preload img when slideChange\r\n     * From current index +2, -2 scene\r\n     * @param {Number} dataIndex means which image will be load\r\n     * @private\r\n     */\r\n    iSliderPrototype._preloadImg = function (dataIndex) {\r\n        if (this.data.length > 3) {\r\n            var data = this.data;\r\n            var len = data.length;\r\n            var self = this;\r\n            var loadImg = function preloadImgLoadingProcess(index) {\r\n                var item = data[index];\r\n                if (self._itemType(item) === 'pic' && !item.load) {\r\n                    var preloadImg = new Image();\r\n                    preloadImg.src = item.content;\r\n                    preloadImg.onload = function () {\r\n                        item.width = preloadImg.width;\r\n                        item.height = preloadImg.height;\r\n                        item.load = 2;\r\n                    };\r\n                    item.load = 1;\r\n                }\r\n            };\r\n\r\n            loadImg((dataIndex + 2) % len);\r\n            loadImg((dataIndex - 2 + len) % len);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * watch transition end\r\n     * @private\r\n     */\r\n    iSliderPrototype._watchTransitionEnd = function (squeezeTime, eventType) {\r\n        var cb = function () {\r\n            this._unWatchTransitionEnd();\r\n            if (eventType === 'slideChanged') {\r\n                this._changedStyles();\r\n            }\r\n            this.fire.call(this, eventType, this.slideIndex, this.currentEl, this);\r\n            this._renderIntermediateScene();\r\n            this.play();\r\n            this.onSliding = false;\r\n            this.direction = null;\r\n        }.bind(this);\r\n\r\n        if (iSlider.TRANSITION_END_EVENT) {\r\n            this.currentEl.addEventListener(iSlider.TRANSITION_END_EVENT, cb);\r\n            // keep handler and element\r\n            this._transitionEndHandler = {el: this.currentEl, handler: cb};\r\n        }\r\n        this._LSN.transitionEnd = global.setTimeout(cb, squeezeTime);\r\n    };\r\n\r\n    /**\r\n     * unwatch transition end\r\n     * @private\r\n     */\r\n    iSliderPrototype._unWatchTransitionEnd = function () {\r\n        if (this._LSN.transitionEnd) {\r\n            global.clearTimeout(this._LSN.transitionEnd);\r\n        }\r\n        if (this._transitionEndHandler !== null) {\r\n            this._transitionEndHandler.el.removeEventListener(iSlider.TRANSITION_END_EVENT, this._transitionEndHandler.handler);\r\n            this._transitionEndHandler = null;\r\n        }\r\n\r\n        //this.onSliding = false;\r\n    };\r\n\r\n    /**\r\n     * bind all event handler, when on PC, disable drag event\r\n     * @private\r\n     */\r\n    iSliderPrototype._bindHandler = function () {\r\n        var outer = this.outer;\r\n        var device = this.deviceEvents;\r\n        if (this.isTouchable) {\r\n            if (!device.hasTouch) {\r\n                outer.style.cursor = 'pointer';\r\n                // disable drag\r\n                outer.ondragstart = function (evt) {\r\n                    if (evt) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                };\r\n            }\r\n            outer.addEventListener(device.startEvt, this);\r\n            outer.addEventListener(device.moveEvt, this);\r\n            outer.addEventListener(device.endEvt, this);\r\n\r\n            // Viscous drag adaptation\r\n            !device.hasTouch && outer.addEventListener('mouseout', this);\r\n        }\r\n\r\n        global.addEventListener(device.resizeEvt, this);\r\n\r\n        // Fix android device\r\n        global.addEventListener('focus', this, false);\r\n        global.addEventListener('blur', this, false);\r\n    };\r\n\r\n    /**\r\n     *  Uniformity admin event\r\n     *  Event router\r\n     *  @param {Object} evt event object\r\n     *  @protected\r\n     */\r\n    iSliderPrototype.handleEvent = function (evt) {\r\n        var device = this.deviceEvents;\r\n        switch (evt.type) {\r\n            case 'mousedown':\r\n                // block mouse buttons except left\r\n                if (evt.button !== 0) break;\r\n            case 'touchstart':\r\n                this.startHandler(evt);\r\n                break;\r\n            case device.moveEvt:\r\n                this.moveHandler(evt);\r\n                break;\r\n            case device.endEvt:\r\n            case device.cancelEvt: // mouseout, touchcancel event, trigger endEvent\r\n                this.endHandler(evt);\r\n                break;\r\n            case device.resizeEvt:\r\n                this.resizeHandler();\r\n                break;\r\n            case 'focus':\r\n                this.play();\r\n                break;\r\n            // case 'blur':\r\n            //     this.pause();\r\n            //     break;\r\n        }\r\n    };\r\n\r\n    /**\r\n     *  touchstart callback\r\n     *  @param {Object} evt event object\r\n     *  @public\r\n     */\r\n    iSliderPrototype.startHandler = function (evt) {\r\n        if (this.fixPage && iSlider.FIX_PAGE_TAGS.indexOf(evt.target.tagName.toUpperCase()) < 0 && !this._isItself(evt.target)) {\r\n            evt.preventDefault();\r\n        }\r\n        if (this._holding || this._locking) {\r\n            return;\r\n        }\r\n        var device = this.deviceEvents;\r\n        this.onMoving = true;\r\n        this.pause();\r\n\r\n        this.log('[EVENT]: start');\r\n        this.fire('slideStart', evt, this);\r\n\r\n        /**\r\n         * @type {Number}\r\n         * @private\r\n         */\r\n        // console.log('in')\r\n        this.startTime = new Date().getTime();\r\n\r\n        /**\r\n         * @type {Number}\r\n         * @private\r\n         */\r\n        this.startX = device.hasTouch ? evt.targetTouches[0].pageX : evt.pageX;\r\n\r\n        /**\r\n         * @type {Number}\r\n         * @private\r\n         */\r\n        this.startY = device.hasTouch ? evt.targetTouches[0].pageY : evt.pageY;\r\n    };\r\n\r\n    /**\r\n     *  touchmove callback\r\n     *  @param {Object} evt event object\r\n     *  @public\r\n     */\r\n    iSliderPrototype.moveHandler = function (evt) {\r\n        if (!this.onMoving) {\r\n            return;\r\n        }\r\n        this.log('[EVENT]: moving');\r\n        var device = this.deviceEvents;\r\n        var len = this.data.length;\r\n        var axis = this.axis;\r\n        var reverseAxis = this.reverseAxis;\r\n        var offset = {};\r\n\r\n        if (evt.hasOwnProperty('offsetRatio')) {\r\n            offset[axis] = evt.offsetRatio * this.scale;\r\n            offset[reverseAxis] = 0;\r\n        } else {\r\n            offset.X = device.hasTouch ? (evt.targetTouches[0].pageX - this.startX) : (evt.pageX - this.startX);\r\n            offset.Y = device.hasTouch ? (evt.targetTouches[0].pageY - this.startY) : (evt.pageY - this.startY);\r\n        }\r\n\r\n        this.offset = offset;\r\n        evt.offsetRatio = offset[axis] / this.scale;\r\n\r\n        if (Math.abs(offset[axis]) - Math.abs(offset[reverseAxis]) > 10) {\r\n\r\n            evt.preventDefault();\r\n            this._unWatchTransitionEnd();\r\n\r\n            if (!this.isLooping) {\r\n                if (offset[axis] > 0 && this.slideIndex === 0 || offset[axis] < 0 && this.slideIndex === len - 1) {\r\n                    offset[axis] = this._damping(offset[axis]);\r\n                }\r\n            }\r\n\r\n            this.els.forEach(function (item, i) {\r\n                item.style.visibility = 'visible';\r\n                iSlider.setStyle(item, 'transition', 'none');\r\n                this._animateFunc(item, axis, this.scale, i, offset[axis], offset[axis]);\r\n                this.fillSeam && this.seamScale(item);\r\n            }.bind(this));\r\n\r\n            this.fire('slide', evt, this);\r\n        }\r\n    };\r\n\r\n    /**\r\n     *  touchend callback\r\n     *  @param {Object} evt event object\r\n     *  @public\r\n     */\r\n    iSliderPrototype.endHandler = function (evt) {\r\n        if (!this.onMoving) {\r\n            return;\r\n        }\r\n        this.log('[EVENT]: end');\r\n        this.onMoving = false;\r\n        var offset = this.offset;\r\n        var axis = this.axis;\r\n        var boundary = this.scale / 2;\r\n        var endTime = new Date().getTime();\r\n        var FRR = this.fingerRecognitionRange;\r\n\r\n        // a quick slide time must under 300ms\r\n        // a quick slide should also slide at least 14 px\r\n        boundary = endTime - this.startTime > 300 ? boundary : 14;\r\n\r\n        var absOffset = Math.abs(offset[axis]);\r\n        var absReverseOffset = Math.abs(offset[this.reverseAxis]);\r\n\r\n        function dispatchLink(el) {\r\n            if (el != null) {\r\n                if (el.tagName === 'A') {\r\n                    if (el.href) {\r\n                        if (el.getAttribute('target') === '_blank') {\r\n                            global.open(el.href);\r\n                        } else {\r\n                            global.location.href = el.href;\r\n                        }\r\n                        evt.preventDefault();\r\n                        return false;\r\n                    }\r\n                }\r\n                else if (el.tagName === 'LI' && el.className.search(/^islider\\-/) > -1) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    dispatchLink(el.parentNode);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.fire('slideEnd', evt, this);\r\n\r\n        if (offset[axis] >= boundary && absReverseOffset < absOffset) {\r\n            this.slideTo(this.slideIndex - 1);\r\n        }\r\n        else if (offset[axis] < -boundary && absReverseOffset < absOffset) {\r\n            this.slideTo(this.slideIndex + 1);\r\n        }\r\n        else {\r\n            if (Math.abs(this.offset[axis]) >= FRR) {\r\n                this.slideTo(this.slideIndex);\r\n            }\r\n        }\r\n\r\n        // create sim tap event if offset < this.fingerRecognitionRange\r\n        if (Math.abs(this.offset[axis]) < FRR && this.fixPage && evt.target) {\r\n            dispatchLink(evt.target);\r\n        }\r\n\r\n        this.offset.X = this.offset.Y = 0;\r\n    };\r\n\r\n    /**\r\n     * resize callback\r\n     * @public\r\n     */\r\n    iSliderPrototype.resizeHandler = function () {\r\n        var _L = this._LSN.resize;\r\n        var startTime = +new Date, _W, _H;\r\n\r\n        if (this.deviceEvents.hasTouch) {\r\n            // Fuck Android\r\n            _L && global.clearInterval(_L);\r\n            _L = global.setInterval(function () {\r\n                if (this.height !== this.wrap.offsetHeight || this.width !== this.wrap.offsetWidth) {\r\n                    _L && global.clearInterval(_L);\r\n                    _L = global.setInterval(function () {\r\n                        if (_W === this.wrap.offsetWidth && _H === this.wrap.offsetHeight) {\r\n                            _L && global.clearInterval(_L);\r\n                            this.reset();\r\n                            this.log('[EVENT]: resize');\r\n                        } else {\r\n                            _W = this.wrap.offsetWidth, _H = this.wrap.offsetHeight;\r\n                        }\r\n                    }.bind(this), 12);\r\n                } else {\r\n                    if (+new Date - startTime >= 1000) {\r\n                        _L && global.clearInterval(_L);\r\n                    }\r\n                }\r\n            }.bind(this), 12);\r\n        } else {\r\n            _L && global.clearTimeout(_L);\r\n            _L = global.setTimeout(function () {\r\n                if (this.height !== this.wrap.offsetHeight || this.width !== this.wrap.offsetWidth) {\r\n                    _L && global.clearInterval(_L);\r\n                    this.reset();\r\n                    this.log('[EVENT]: resize');\r\n                }\r\n            }.bind(this), 200);\r\n        }\r\n    };\r\n\r\n    /**\r\n     *  slide logical, goto data index\r\n     *  @param {Number} dataIndex the goto index\r\n     *  @public\r\n     */\r\n    iSliderPrototype.slideTo = function (dataIndex, opts) {\r\n        // stop auto play\r\n        if (this.isAutoplay) {\r\n            this.pause();\r\n        }\r\n        if (this._locking) {\r\n            return;\r\n        }\r\n        this.unhold();\r\n        this.onSliding = true;\r\n        var animateTime = this.animateTime;\r\n        var animateType = this.animateType;\r\n        var animateFunc = this._animateFunc;\r\n        var data = this.data;\r\n        var els = this.els;\r\n        var axis = this.axis;\r\n        var idx = dataIndex;\r\n        var n = dataIndex - this.slideIndex;\r\n        var offset = this.offset;\r\n        var eventType;\r\n        var squeezeTime = 0;\r\n\r\n        if (typeof opts === 'object') {\r\n            if (opts.animateTime > -1) {\r\n                animateTime = opts.animateTime;\r\n            }\r\n            if (typeof opts.animateType === 'string' && opts.animateType in this._animateFuncs) {\r\n                animateType = opts.animateType;\r\n                animateFunc = this._animateFuncs[animateType];\r\n            }\r\n        }\r\n\r\n        // In the slide process, animate time is squeezed\r\n        if (offset[axis] !== 0) {\r\n            squeezeTime = Math.abs(offset[axis]) / this.scale * animateTime;\r\n        }\r\n\r\n        if (Math.abs(n) > 1) {\r\n            this._renderItem(n > 0 ? this.els[2] : this.els[0], idx);\r\n        }\r\n\r\n        // preload when slide\r\n        this._preloadImg(idx);\r\n\r\n        // get right item of data\r\n        if (data[idx]) {\r\n            this.slideIndex = idx;\r\n        }\r\n        else {\r\n            if (this.isLooping) {\r\n                this.slideIndex = n > 0 ? 0 : data.length - 1;\r\n            }\r\n            else {\r\n                n = 0;\r\n            }\r\n        }\r\n\r\n        this.log('[SLIDE TO]: ' + this.slideIndex);\r\n\r\n        // keep the right order of items\r\n        var headEl, tailEl, direction;\r\n\r\n        // slidechange should render new item\r\n        // and change new item style to fit animation\r\n        if (n === 0) {\r\n            // Restore to current scene\r\n            eventType = 'slideRestore';\r\n        } else {\r\n\r\n            if ((this.isVertical && (inArray(animateType, this._animateReverse))) ^ (n > 0)) {\r\n                els.push(els.shift());\r\n                headEl = els[2];\r\n                tailEl = els[0];\r\n                direction = 1;\r\n            } else {\r\n                els.unshift(els.pop());\r\n                headEl = els[0];\r\n                tailEl = els[2];\r\n                direction = -1;\r\n            }\r\n\r\n            this.currentEl = els[1];\r\n\r\n            if (Math.abs(n) === 1) {\r\n                this._renderIntermediateScene();\r\n                this._renderItem(headEl, idx + n);\r\n            } else if (Math.abs(n) > 1) {\r\n                this._renderItem(headEl, idx + direction);\r\n                this._intermediateScene = [tailEl, idx - direction];\r\n            }\r\n\r\n            iSlider.setStyle(headEl, 'transition', 'none');\r\n\r\n            // Minus squeeze time\r\n            squeezeTime = animateTime - squeezeTime;\r\n\r\n            eventType = 'slideChange';\r\n\r\n            // For seams\r\n            if (this.fillSeam) {\r\n                els.forEach(function (el) {\r\n                    removeClass(el, 'islider-sliding|islider-sliding-focus');\r\n                });\r\n                addClass(this.currentEl, 'islider-sliding-focus');\r\n                addClass(headEl, 'islider-sliding');\r\n            }\r\n\r\n            this.direction = direction;\r\n        }\r\n\r\n        // do the trick animation\r\n        for (var i = 0; i < 3; i++) {\r\n            if (els[i] !== headEl) {\r\n                // Only applies their effects\r\n                iSlider.setStyle(els[i], 'transition', (animateFunc.effect || 'all') + ' ' + squeezeTime + 'ms ' + this.animateEasing);\r\n            }\r\n            animateFunc.call(this, els[i], axis, this.scale, i, 0, direction);\r\n            this.fillSeam && this.seamScale(els[i]);\r\n        }\r\n\r\n        this._watchTransitionEnd(squeezeTime, eventType + 'd');\r\n        this.fire(eventType, this.slideIndex, this.currentEl, this);\r\n    };\r\n\r\n    /**\r\n     * Slide to next scene\r\n     * @public\r\n     */\r\n    iSliderPrototype.slideNext = function () {\r\n        this.slideTo.apply(this, [this.slideIndex + 1].concat(_A(arguments)));\r\n    };\r\n\r\n    /**\r\n     * Slide to previous scene\r\n     * @public\r\n     */\r\n    iSliderPrototype.slidePrev = function () {\r\n        this.slideTo.apply(this, [this.slideIndex - 1].concat(_A(arguments)));\r\n    };\r\n\r\n    /**\r\n     * Register plugin (run time mode)\r\n     * @param {String} name\r\n     * @param {Function} plugin\r\n     * @param {...}\r\n     * @public\r\n     */\r\n    iSliderPrototype.regPlugin = function () {\r\n        var args = _A(arguments);\r\n        var name = args.shift(),\r\n            plugin = args[0];\r\n\r\n        if (!this._plugins.hasOwnProperty(name) && typeof plugin !== 'function') {\r\n            return;\r\n        }\r\n        if (typeof plugin === 'function') {\r\n            this._plugins[name] = plugin;\r\n            args.shift();\r\n        }\r\n\r\n        // Auto enable and init plugin when at run time\r\n        if (!inArray(name, this._opts.plugins)) {\r\n            this._opts.plugins.push(args.length ? [].concat([name], args) : name);\r\n            typeof this._plugins[name] === 'function' && this._plugins[name].apply(this, args);\r\n        }\r\n    };\r\n\r\n    /**\r\n     *  simple event delegate method\r\n     *\r\n     *  @param {String} evtType event name\r\n     *  @param {String} selector the simple css selector like jQuery\r\n     *  @param {Function} callback event callback\r\n     *  @public\r\n     *\r\n     *  @alias iSliderPrototype.bind\r\n     */\r\n    iSliderPrototype.bind = iSliderPrototype.delegate = function (evtType, selector, callback) {\r\n\r\n        function delegatedEventCallbackHandle(e) {\r\n            var evt = global.event ? global.event : e;\r\n            var target = evt.target;\r\n            var eleArr = document.querySelectorAll(selector);\r\n            for (var i = 0; i < eleArr.length; i++) {\r\n                if (target === eleArr[i]) {\r\n                    callback.call(target);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.wrap.addEventListener(evtType, delegatedEventCallbackHandle, false);\r\n\r\n        var key = evtType + ';' + selector;\r\n        if (!this._EventHandle.hasOwnProperty(key)) {\r\n            this._EventHandle[key] = [\r\n                [callback],\r\n                [delegatedEventCallbackHandle]\r\n            ];\r\n        } else {\r\n            this._EventHandle[key][0].push(callback);\r\n            this._EventHandle[key][1].push(delegatedEventCallbackHandle);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * remove event delegate from wrap\r\n     *\r\n     * @param {String} evtType event name\r\n     * @param {String} selector the simple css selector like jQuery\r\n     * @param {Function} callback event callback\r\n     * @public\r\n     *\r\n     * @alias iSliderPrototype.unbind\r\n     */\r\n    iSliderPrototype.unbind = iSliderPrototype.unDelegate = function (evtType, selector, callback) {\r\n        var key = evtType + ';' + selector;\r\n        if (this._EventHandle.hasOwnProperty(key)) {\r\n            var i = this._EventHandle[key][0].indexOf(callback);\r\n            if (i > -1) {\r\n                this.wrap.removeEventListener(evtType, this._EventHandle[key][1][i]);\r\n                this._EventHandle[key][0][i] = this._EventHandle[key][1][i] = null;\r\n                // delete this._EventHandle[key][0][i];\r\n                // delete this._EventHandle[key][1][i];\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    /**\r\n     * removeEventListener to release the memory\r\n     * @public\r\n     */\r\n    iSliderPrototype.destroy = function () {\r\n        var outer = this.outer;\r\n        var device = this.deviceEvents;\r\n\r\n        this.fire('destroy');\r\n\r\n        // Clear events\r\n        if (this.isTouchable) {\r\n            outer.removeEventListener(device.startEvt, this);\r\n            outer.removeEventListener(device.moveEvt, this);\r\n            outer.removeEventListener(device.endEvt, this);\r\n\r\n            // Viscous drag unbind\r\n            !device.hasTouch && outer.removeEventListener('mouseout', this);\r\n        }\r\n        global.removeEventListener(device.resizeEvt, this);\r\n        global.removeEventListener('focus', this);\r\n        global.removeEventListener('blur', this);\r\n\r\n        var n;\r\n\r\n        // Clear delegate events\r\n        for (n in this._EventHandle) {\r\n            var handList = this._EventHandle[n][1];\r\n            for (var i = 0; i < handList.length; i++) {\r\n                if (typeof handList[i] === 'function') {\r\n                    this.wrap.removeEventListener(n.substr(0, n.indexOf(';')), handList[i]);\r\n                }\r\n            }\r\n        }\r\n        this._EventHandle = null;\r\n\r\n        // Clear timer\r\n        for (n in this._LSN) {\r\n            this._LSN.hasOwnProperty(n) && this._LSN[n] && global.clearTimeout(this._LSN[n]);\r\n        }\r\n\r\n        this._LSN = null;\r\n\r\n        this.wrap.innerHTML = '';\r\n    };\r\n\r\n    /**\r\n     * Register event callback\r\n     * @param {String} eventName\r\n     * @param {Function} func\r\n     * @public\r\n     */\r\n    iSliderPrototype.on = function (eventName, func, force) {\r\n        if (inArray(eventName, iSlider.EVENTS) && typeof func === 'function') {\r\n            !(eventName in this.events) && (this.events[eventName] = []);\r\n            if (!force) {\r\n                this.events[eventName].push(func);\r\n            } else {\r\n                this.events[eventName].unshift(func);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Find callback function position\r\n     * @param {String} eventName\r\n     * @param {Function} func\r\n     * @returns {Boolean}\r\n     * @public\r\n     */\r\n    iSliderPrototype.has = function (eventName, func) {\r\n        if (eventName in this.events) {\r\n            return -1 < this.events[eventName].indexOf(func);\r\n        }\r\n        return false;\r\n    };\r\n\r\n    /**\r\n     * Remove event callback\r\n     * @param {String} eventName\r\n     * @param {Function} func\r\n     * @public\r\n     */\r\n    iSliderPrototype.off = function (eventName, func) {\r\n        if (eventName in this.events) {\r\n            var index = this.events[eventName].indexOf(func);\r\n            if (index > -1) {\r\n                delete this.events[eventName][index];\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Trigger event callbacks\r\n     * @param {String} eventName\r\n     * @param {*} args\r\n     * @public\r\n     */\r\n    iSliderPrototype.fire = function (eventNames) {\r\n        var args = _A(arguments, 1);\r\n        eventNames.split(/\\x20+/).forEach(function (eventName) {\r\n            this.log('[EVENT FIRE]:', eventName, args);\r\n            if (eventName in this.events) {\r\n                var funcs = this.events[eventName];\r\n                for (var i = 0; i < funcs.length; i++) {\r\n                    typeof funcs[i] === 'function'\r\n                    && funcs[i].apply\r\n                    && funcs[i].apply(this, args);\r\n                }\r\n            }\r\n        }.bind(this));\r\n    };\r\n\r\n    /**\r\n     * reset & rerender\r\n     * @public\r\n     */\r\n    iSliderPrototype.reset = function () {\r\n        this.pause();\r\n        this._unWatchTransitionEnd();\r\n        //this._setting();\r\n        this.width = typeof this._opts.width === 'number' ? this._opts.width : this.wrap.offsetWidth;\r\n        this.height = typeof this._opts.height === 'number' ? this._opts.height : this.wrap.offsetHeight;\r\n        this.ratio = this.height / this.width;\r\n        this.scale = this.isVertical ? this.height : this.width;\r\n        this._renderWrapper();\r\n        this._autoPlay();\r\n        this.fire('reset slideRestored', this.slideIndex, this.currentEl, this);\r\n    };\r\n\r\n    /**\r\n     * Reload Data & render\r\n     *\r\n     * @param {Array} data\r\n     * @param {Number} initIndex\r\n     * @public\r\n     */\r\n    iSliderPrototype.loadData = function (data, initIndex) {\r\n        this.pause();\r\n        this._unWatchTransitionEnd();\r\n        this.slideIndex = initIndex || 0;\r\n        this.data = data;\r\n        this._renderWrapper();\r\n        this._autoPlay();\r\n        this.fire('loadData slideChanged', this.slideIndex, this.currentEl, this);\r\n    };\r\n\r\n    /**\r\n     * Add scenes to the end of the data datasheets\r\n     *\r\n     * @param {Object|Array} sceneData\r\n     * @description\r\n     *   Object:\r\n     *     {content:...}\r\n     *   Array:\r\n     *     [{content:...}, {content:...}, ...]\r\n     */\r\n    iSliderPrototype.pushData = function (sceneData) {\r\n        var len = this.data.length;\r\n        this.data = this.data.concat(sceneData);\r\n        if (this.isLooping && this.slideIndex === 0) {\r\n            this._renderItem(this.els[0], this.data.length - 1);\r\n        } else if (len - 1 === this.slideIndex) {\r\n            this._renderItem(this.els[2], len);\r\n            this._autoPlay(); // restart\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Add scenes to the head of the data datasheets\r\n     *\r\n     * @param {Object|Array} sceneData\r\n     * @description\r\n     *   Object:\r\n     *     {content:...}\r\n     *   Array:\r\n     *     [{content:...}, {content:...}, ...]\r\n     */\r\n    iSliderPrototype.unshiftData = function (sceneData) {\r\n        if (!sceneData) {\r\n            return;\r\n        }\r\n\r\n        if (!isArray(sceneData)) {\r\n            sceneData = [sceneData];\r\n        }\r\n\r\n        var n = sceneData.length;\r\n        this.data = sceneData.concat(this.data);\r\n\r\n        if (this.slideIndex === 0) {\r\n            this._renderItem(this.els[0], n - 1);\r\n        }\r\n        this.slideIndex += n;\r\n    };\r\n\r\n    /**\r\n     * auto check to play and bind events\r\n     * @private\r\n     */\r\n    iSliderPrototype._autoPlay = function () {\r\n        this.delay > 0 ? global.setTimeout(this.play.bind(this), this.delay) : this.play();\r\n    };\r\n\r\n    /**\r\n     * Start autoplay\r\n     * @public\r\n     */\r\n    iSliderPrototype.play = function () {\r\n        this.pause();\r\n        // If not looping, stop playing when meet the end of data\r\n        if (this.isAutoplay && (this.isLooping || this.slideIndex < this.data.length - 1)) {\r\n            this._LSN.autoPlay = global.setTimeout(this.slideNext.bind(this), this.duration);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * pause autoplay\r\n     * @public\r\n     */\r\n    iSliderPrototype.pause = function () {\r\n        this._LSN.autoPlay && global.clearTimeout(this._LSN.autoPlay);\r\n    };\r\n\r\n    /**\r\n     * Maintaining the current scene\r\n     * Disable touch events, except for the native method.\r\n     * @public\r\n     */\r\n    iSliderPrototype.hold = function () {\r\n        this._holding = true;\r\n    };\r\n\r\n    /**\r\n     * Release current scene\r\n     * unlock at same time\r\n     * @public\r\n     */\r\n    iSliderPrototype.unhold = function () {\r\n        this._holding = false;\r\n        this.unlock();\r\n    };\r\n\r\n    /**\r\n     * You can't do anything on this scene\r\n     * lock native method calls\r\n     * hold at same time\r\n     * @public\r\n     */\r\n    iSliderPrototype.lock = function () {\r\n        this.hold();\r\n        this._locking = true;\r\n    };\r\n\r\n    /**\r\n     * unlock native method calls\r\n     * @public\r\n     */\r\n    iSliderPrototype.unlock = function () {\r\n        this._locking = false;\r\n    };\r\n\r\n    /**\r\n     * Fill the seam\r\n     * @param {HTMLElement} el\r\n     * @private\r\n     */\r\n    iSliderPrototype.seamScale = function (el) {\r\n        var regex = /scale([XY]?)\\(([^\\)]+)\\)/;\r\n        var transformStyle = iSlider.getStyle(el, 'transform');\r\n        if (regex.test(transformStyle)) {\r\n            iSlider.setStyle(el, 'transform', transformStyle.replace(regex, function (res, axis, scale) {\r\n                var sc = {};\r\n                if (axis) {\r\n                    sc[axis] = parseFloat(scale);\r\n                    return 'scale' + this.axis + '(' + (axis === this.axis ? 1.001 * sc[this.axis] : 1.001) + ')';\r\n                } else {\r\n                    if (scale.indexOf(',') > -1) {\r\n                        scale = scale.split(',');\r\n                        sc.X = parseFloat(scale[0]);\r\n                        sc.Y = parseFloat(scale[1]);\r\n                    } else {\r\n                        sc.Y = sc.X = parseFloat(scale);\r\n                    }\r\n                    sc[this.axis] *= 1.001;\r\n                    return 'scale(' + sc.X + ', ' + sc.Y + ')';\r\n                }\r\n            }.bind(this)));\r\n        } else {\r\n            iSlider.setStyle(el, 'transform', transformStyle + ' scale' + this.axis + '(1.001)');\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @param {HTMLElement} el\r\n     * @private\r\n     */\r\n    iSliderPrototype.originScale = function (el) {\r\n        var regex = /([\\x20]?scale)([XY]?)\\(([^\\)]+)\\)/;\r\n        iSlider.setStyle(el, 'transform', iSlider.getStyle(el, 'transform').replace(regex, function (sc, res, axis, scale) {\r\n            sc = {};\r\n            if (axis) {\r\n                if (scale === '1.001') {\r\n                    return '';\r\n                } else {\r\n                    sc[axis] = parseFloat(scale);\r\n                    return 'scale' + this.axis + '(' + (axis === this.axis ? sc[this.axis] / 1.001 : 1) + ')';\r\n                }\r\n            } else {\r\n                if (scale.indexOf(',') > -1) {\r\n                    scale = scale.split(',');\r\n                    sc.X = parseFloat(scale[0]);\r\n                    sc.Y = parseFloat(scale[1]);\r\n                } else {\r\n                    sc.Y = sc.X = parseFloat(scale);\r\n                }\r\n                sc[this.axis] /= 1.001;\r\n                return 'scale(' + sc.X + ', ' + sc.Y + ')';\r\n            }\r\n        }.bind(this)));\r\n    };\r\n\r\n\r\n    /**\r\n     * Whether this node in rule\r\n     *\r\n     * @param {HTMLElement} target\r\n     * @param {Array} rule\r\n     * @returns {boolean}\r\n     */\r\n    iSliderPrototype._isItself = function (target) {\r\n        var rule = this.fixPage;\r\n        if (typeof rule === 'string') {\r\n            //get dom path\r\n            var path = [], parent = target, selector;\r\n            while (!hasClass(parent, 'islider-outer') && parent !== this.wrap) {\r\n                path.push(parent);\r\n                parent = parent.parentNode;\r\n            }\r\n            parent = path.pop();\r\n\r\n            if (path.length) {\r\n                try {\r\n                    selector = Array.prototype.slice.call(parent.querySelectorAll(rule));\r\n                    if (selector.length) {\r\n                        for (var i = 0; i < path.length; i++) {\r\n                            if (selector.indexOf(path[i]) > -1) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Let target islider controls this one\r\n     *\r\n     * @param {iSlider} target\r\n     * @param {Object} how\r\n     * @public\r\n     */\r\n    iSliderPrototype.subjectTo = function (target, how) {\r\n        if (!target instanceof iSlider) {\r\n            return;\r\n        }\r\n\r\n        var self = this;\r\n\r\n        self.animateTime = target.animateTime;\r\n        self.isLooping = target.isLooping;\r\n        self.isAutoplay = false;\r\n\r\n        target.on('slideStart', function (evt) {\r\n            self.startHandler(evt);\r\n        });\r\n\r\n        target.on('slide', function (evt) {\r\n            self.moveHandler(evt);\r\n        });\r\n\r\n        target.on('slideEnd', function (evt) {\r\n            self.endHandler(evt);\r\n        });\r\n\r\n        target.on('slideChange', function (i) {\r\n            var l = self.data.length;\r\n            var d = self.direction;\r\n            if (d > 0 && (i - self.slideIndex + l) % l === 1) {\r\n                self.slideNext();\r\n            } else if (d < 0 && (i - self.slideIndex - l) % l === -1) {\r\n                self.slidePrev();\r\n            }\r\n        });\r\n\r\n        target.on('slideRestore', function (i) {\r\n            if (self.slideIndex !== i) {\r\n                self.slideTo(i);\r\n            }\r\n        });\r\n    };\r\n\r\n    /* CommonJS */\r\n    if (typeof require === 'function' && typeof module === 'object' && module && typeof exports === 'object' && exports)\r\n        module.exports = iSlider;\r\n    /* AMD */\r\n    else if (typeof define === 'function' && define['amd'])\r\n        define(function () {\r\n            return iSlider;\r\n        });\r\n    /* Global */\r\n    else\r\n        global['iSlider'] = global['iSlider'] || iSlider;\r\n\r\n})(window || this);\r\n"],"sourceRoot":"/source/"}